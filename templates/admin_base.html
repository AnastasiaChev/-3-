{% extends "base.html" %}

{% block content %}
<!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
<div id="login-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000;">
    <h2>üîê –í—Ö–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
    <input type="password" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" style="padding: 10px; font-size: 16px; margin: 10px 0; width: 250px;">
    <button onclick="checkPassword()" style="padding: 10px 20px; background: #1f61a0; color: white; border: none; border-radius: 4px; cursor: pointer;">–í–æ–π—Ç–∏</button>
    <p id="error" style="color: red; margin-top: 10px;"></p>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Å–∫—Ä—ã—Ç –¥–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è) -->
<div id="admin-content" style="display: none;">
    {% block admin_content %}{% endblock %}
</div>

<script>
    const CORRECT_PASSWORD = 'admin!!!'; // ‚Üê —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å, —á—Ç–æ –≤ –∑–∞–¥–∞–Ω–∏–∏

    function checkPassword() {
        const pwd = document.getElementById('password').value;
        if (pwd === CORRECT_PASSWORD) {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('admin-content').style.display = 'block';
            
        } else {
            document.getElementById('error').textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!';
        }
    }

    // –í—Ö–æ–¥ –ø–æ Enter
    document.getElementById('password').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') checkPassword();
    });
</script>
{% endblock %}